---
 layout: default
 navtitle: Google Policy Changes
 title: Google Set To Enforce Certificate Transparency
 pubDate: January 16, 2018
 collection: announcements
 permalink: announcements/googlect/
 description: In April 2018, Google will begin enforcing Certificate Transparency (CT) in Chrome for all SSL certificates enabled for server authentication. These certificates must validate to a Root Certification Authority (CA) certificate in the Microsoft, Apple, or Mozilla trust stores.  
---

In April 2018, Google will begin enforcing Certificate Transparency (CT) in Chrome for all SSL certificates. These certificates must validate to a Root Certification Authority (CA) certificate in either the Microsoft, Apple, or Linux trust store. If an SSL certificate doesn't appear in a CT log, then Chrome<!--Chrome or web server?--> will return an error. Options to prevent these errors are given below.

{% include alert-info.html content="CT is an open framework that allows website owners and browser operators to monitor and log SSL certificates, detect issuance/mis-issuance, and identify rogue CAs." %}

### Purpose of Google's New CT Policy
The purpose of Google's new CT policy is to:<sup>[1](#1)</sup>
1. Make it difficult for a CA to issue an SSL certificate without its being visible to a domain owner.
2. Allow any CA or domain owner to identify mistakenly or maliciously issued certificates.
3. Protect users (as much as possible) from being duped by mistakenly or maliciously issued certificates.

### Impacted Users and Certificates
1. Google Chrome users of Windows, Apple, and Linux, Android, Apple iOS, and Windows Mobile.
2. Any Root CA-issued, SSL certificate enabled for server authentication, where Microsoft, Apple, or Linux distribute its Root CA certificate through its trust store. 
> **Note:**&nbsp;&nbsp;When an OS doesn't distribute a Root CA certificate, it won't be impacted by CT enforcement.

Please send any questions about these Google policy changes to **fpki@gsa.gov**.

### FAQs

### What are CT Logs?

CT logs are:
1. Append-only&mdash;issuers cannot delete, modify, or retroactively insert an entry into a log. 
2. Cryptographically secure using Merkle Tree Hashes to prevent tampering and misbehavior.
3. Publicly auditable. (Anyone can query a log and verify entries.)

### Example Error Screen

CB - Insert pic

### How To Prevent SSL Certificate Errors on Chrome
<!--Or are the errors generated by the web servers?-->
No error will occur during an HTTPS browser session if the SSL certificate serves a Signed Certificate Timestamp (SCT). You can use one of three methods to ensure that the SSL certificate serves an SCT:

1. **Embed Certificate in x509 Extension.**&nbsp;&nbsp;A CA provider may embed an SCT in a SSL certificate extension. No server configuration changes are needed, but the extension must be supported by the CA provider. <!--is this EKU for server authentication?  Which specific extension(s)? -->

2. **TLS Extension.**&nbsp;&nbsp;A CA provider can configure a web server to use the TLS extension to serve an SCT during a client session. After receiving the certificate, the server operator submits it to a CT log and receives an SCT. He/she then includes the SCT in the server's signed_certificate_timestamp.

>The TLS extension is supported by Apache v2.5 mod_ssl_ct and Nginx web servers.

3. **Online Certificate Stauts Protocol (OCSP) Stapling.**&nbsp;&nbsp;A CA provider can include an SCT with a server's OCSP response. To do this, the CA provider issues a certificate to a CT log, and then the server operator enables _OCSP Stapling_ on the server.

### How to ...??...for Enterprise Administrators<!--What does the fix allow the admin to do? Is this a "policy," per next para?-->
You can disable CT-checking for agency-owned end-points.<!--Couldn't follow this dicussion easily. Below, what is policy that needs to be set? Does this relate to above 3 options or does this relate to SSL certificates issued by an agency's local CA?-->The new Google CT policy <!--Correct?-->allows you to hide certificates for hostnames in URLs. So, certificates that would otherwise be untrusted (because they were not properly disclosed) can continue to be used. (**Note:**&nbsp;&nbsp;It's harder to detect mis-issued SSL certificates for these hosts.)

To set the **what is name of??** policy, follow the steps below. If this policy is not set, Google will treat any certificate as untrusted if disclosed via CT but not according to policy.<!--Can't follow this in relation to previous paragraph.-->

<!--Below looks like steps to take for the different OSs. Correct?-->

**Windows registry location for Windows clients:**
Software\Policies\Google\Chrome\CertificateTransparencyEnforcementDisabledForUrls

**Step is to add a value?**  Example value:
Software\Policies\Google\Chrome\CertificateTransparencyEnforcementDisabledForUrls\1 = "example.com"
Software\Policies\Google\Chrome\CertificateTransparencyEnforcementDisabledForUrls\2 = ".example.com"

**Windows registry location for Google Chrome OS clients:**
Software\Policies\Google\ChromeOS\CertificateTransparencyEnforcementDisabledForUrls

**Step is to add a value?** Example value:
Software\Policies\Google\ChromeOS\CertificateTransparencyEnforcementDisabledForUrls\1 = "example.com"
Software\Policies\Google\ChromeOS\CertificateTransparencyEnforcementDisabledForUrls\2 = ".example.com"

**MacOS and Linux**
Preference name: CertificateTransparencyEnforcementDisabledForUrls

**Step is to add a value?** Example value:

```
<array>
  <string>example.com</string>
  <string>.example.com</string>
</array>
```

**Android** 
Restriction name: CertificateTransparencyEnforcementDisabledForUrls

**Step is to add a value?** _Example value:_ example.com **or** .example.com

### Frequently Asked Questions
1. Will Google's use of CT impact my agency's internal, Root CA-issued server authentication certificates?
> _There should be no impact if you use an agency's internal, Root CA to issue server authentication certificates. Google's CT change will impact only server authentication certificates that validate to a Root CA whose certificate is distributed through the Microsoft, Apple, or Mozilla trust stores._ <!--If FPKI decides to remove the COMMON Root certificate trust bit from the Microsoft and Apple trust stores, per Option 1 in Microsoft Hot Topic, then what issues, if any, will remain with Google's use of CT?-->

#### Google Certificate Transparency Recommended Reading
<a name="1">1</a>. Extracted from [What is Certificate Transparency](https://www.certificate-transparency.org/){:target="_blank"}.<br>
2. [Certificate Transparency Announcement](https://groups.google.com/a/chromium.org/forum/#!topic/ct-policy/78N3SMcqUGw){:target="_blank"}.<br>
3. [How to Disable in Enterprise Chrome](http://www.chromium.org/administrators/policy-list-3#CertificateTransparencyEnforcementDisabledForUrls){:target="_blank"}.<br>
4. [Chrome Policy Templates](https://www.chromium.org/administrators/policy-templates){:target="_blank"}.
